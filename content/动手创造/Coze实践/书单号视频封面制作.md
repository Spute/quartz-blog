---
title: 书单号视频封面制作
---

# 介绍

<strong>只需输入书名和书籍主题，一键快速制作风格一致性的封面。</strong>

这里以抖音视频封面为例，用 coze 一步步实现书单号视频封面制作的自动化。

## 分析

找到一个对标的书单号，参照一下他的视频封面。

发现这个封面包含 3 部分

- 书名
- 书籍主题
- 书籍图片

![[PJFMb9AhDoDwbVxzw7lcesOenxQ.jpg]]

查找一下抖音封面标准，后面用的到。

![[HLp5bJbeDoG36Xx4ljvcx0hmngc.png]]

## 工作流实现

### 整体工作流程

![[HOz9bvhvyoxPZ4xC2XActvb4nCg.png]]

通过豆瓣插件获得书本图片，通过文本处理节点加工书籍名称。

### 画板节点配置

核心是通过画板节点对以上 3 个元素进行编排，我们先使用一个案例进行编排。

设置画布大小，添加相关元素，接收准备好的元素，然后设置相关的引用。

![[FPzEbiOmsopZuxxOzRMcf4zsnrf.png]]

## 测试

使用另一书名测试一下，达到预期的效果

![[SUiIbM7O7o1TcYxUQg4cpHgenGh.png]]

# coze 源码

```json
{"type":"coze-workflow-clipboard-data","source":{"workflowId":"7529068769121927209","flowMode":0,"spaceId":"7459885111341793318","isDouyin":false,"host":"www.coze.cn"},"json":{"nodes":[{"id":"110290","type":"4","meta":{"position":{"x":640,"y":0}},"data":{"nodeMeta":{"description":"豆瓣搜书","icon":"https://p3-flow-product-sign.byteimg.com/tos-cn-i-13w3uml6bg/853f6a7828204c62a31f20022649b742~tplv-13w3uml6bg-resize:128:128.image?rk3s=2e2596fd&x-expires=1753629078&x-signature=PEW3Um2ZiQHpQK8kgylSulWUJCQ%3D","subtitle":"豆瓣搜书:douban_getbook","title":"douban_getbook"},"inputs":{"apiParam":[{"input":{"type":"string","value":{"content":"7375483751574454272","rawMeta":{"type":1},"type":"literal"}},"name":"apiID"},{"input":{"type":"string","value":{"content":"douban_getbook","rawMeta":{"type":1},"type":"literal"}},"name":"apiName"},{"input":{"type":"string","value":{"content":"7375483751574437888","rawMeta":{"type":1},"type":"literal"}},"name":"pluginID"},{"input":{"type":"string","value":{"content":"豆瓣搜书","rawMeta":{"type":1},"type":"literal"}},"name":"pluginName"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"pluginVersion"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"tips"},{"input":{"type":"string","value":{"content":"","rawMeta":{"type":1},"type":"literal"}},"name":"outDocLink"}],"inputParameters":[{"name":"book_name","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"book_name"},"rawMeta":{"type":1}}}}],"settingOnError":{"processType":1,"timeoutMs":180000,"retryTimes":0}},"outputs":[{"type":"string","name":"isbn","required":false,"description":"ISBN"},{"type":"string","name":"pub_date","required":false,"description":"出版日期"},{"type":"string","name":"publisher","required":false,"description":"出版社"},{"type":"string","name":"summary","required":false,"description":"图书简介"},{"type":"string","name":"author_intro","required":false,"description":"作者简介"},{"type":"string","name":"book_image","required":false,"description":"书籍封面"},{"type":"string","name":"url","required":false,"description":"书籍豆瓣网页链接"},{"type":"list","name":"authors","schema":{"type":"string"},"required":false,"description":"作者"},{"type":"string","name":"book_name","required":false,"description":"书籍名"}]},"_temp":{"bounds":{"x":460,"y":0,"width":360,"height":136.1},"externalData":{"icon":"https://lf26-appstore-sign.oceancloudapi.com/ocean-cloud-tos/plugin_icon/default_icon.png?lk3s=cd508e2b&x-expires=1755592236&x-signature=Dg5rHZKgprOc1JpJZ%2Fh56bX8sHY%3D","apiName":"douban_getbook","pluginID":"7375483751574437888","pluginProductStatus":1,"pluginProductUnlistType":0,"pluginType":1,"spaceID":"7341392913995218956","inputs":[{"description":"图书名称","input":{},"name":"book_name","required":true,"type":"string"}],"outputs":[{"description":"书籍封面","input":{},"name":"book_image","required":false,"type":"string"},{"description":"ISBN","input":{},"name":"isbn","required":false,"type":"string"},{"description":"出版社","input":{},"name":"publisher","required":false,"type":"string"},{"description":"图书简介","input":{},"name":"summary","required":false,"type":"string"},{"description":"作者简介","input":{},"name":"author_intro","required":false,"type":"string"},{"description":"作者","input":{},"name":"authors","required":false,"schema":{"assistType":0,"type":"string"},"type":"list"},{"description":"书籍名","input":{},"name":"book_name","required":false,"type":"string"},{"description":"出版日期","input":{},"name":"pub_date","required":false,"type":"string"},{"description":"书籍豆瓣网页链接","input":{},"name":"url","required":false,"type":"string"}],"updateTime":1753000159,"channel_id":2,"latestVersionTs":"0","latestVersionName":"","versionName":"","description":"获取书籍简介\n","title":"douban_getbook","mainColor":"#CA61FF"}}},{"id":"146229","type":"23","meta":{"position":{"x":1560,"y":12}},"data":{"inputs":{"canvasSchema":"{\"version\":\"6.0.0-rc2\",\"width\":720,\"height\":960,\"backgroundColor\":\"#ffffffff\",\"customVariableRefs\":[{\"variableId\":\"2QhQzwWu3J75BZ8V3vnUm\",\"objectId\":\"lCF0EWc58lhdcBtlRo_dD\",\"variableName\":\"book_name\"},{\"variableId\":\"u__md7saRPCfcHSnfJrZG\",\"objectId\":\"xVi458Cs1J8XVIfFTtSoU\",\"variableName\":\"book_theme\"},{\"variableId\":\"-BqqyjEfmrDDVQcBa9ONb\",\"objectId\":\"Jj22zLKgmY-5mb--8wXlg\",\"variableName\":\"book_image\"}],\"objects\":[{\"subTargetCheck\":false,\"interactive\":false,\"width\":412.1726,\"height\":516.1347,\"backgroundColor\":\"\",\"padding\":0,\"customFixedHeight\":516.1346846155463,\"customId\":\"Jj22zLKgmY-5mb--8wXlg\",\"customType\":\"img\",\"type\":\"Group\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":83.3708,\"top\":403.2086,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":343.9903,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"clipPath\":{\"rx\":0,\"ry\":0,\"width\":412.1726,\"height\":516.1347,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-206.0863,\"top\":-258.0673,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"inverted\":false,\"absolutePositioned\":false},\"layoutManager\":{\"type\":\"layoutManager\",\"strategy\":\"fit-content\"},\"objects\":[{\"cropX\":0,\"cropY\":0,\"width\":540,\"height\":767,\"backgroundColor\":\"\",\"padding\":0,\"customFixedType\":\"auto\",\"type\":\"Image\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-182.0422,\"top\":-258.5673,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":0.6742,\"scaleY\":0.6742,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"src\":\"https://p26-bot-workflow-sign.byteimg.com/tos-cn-i-mdko3gqilj/b44a53eaaa5e43e2aacf6ae57ab3e40f.jpg~tplv-mdko3gqilj-image.image?rk3s=81d4c505&x-expires=1784102248&x-signature=t3PSKWuiK4%2FifJ6Vu%2F%2FsETBMqbE%3D\",\"crossOrigin\":null,\"filters\":[]},{\"rx\":0,\"ry\":0,\"width\":364.0844,\"height\":516.1347,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-182.0422,\"top\":-258.0673,\"fill\":\"#00000000\",\"stroke\":\"#000000ff\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0}]},{\"fontSize\":75,\"fontWeight\":\"normal\",\"fontFamily\":\"字语咏楷体\",\"fontStyle\":\"normal\",\"lineHeight\":1.2,\"text\":\"《价值心法》\",\"charSpacing\":0,\"textAlign\":\"center\",\"styles\":[],\"pathStartOffset\":0,\"pathSide\":\"left\",\"pathAlign\":\"baseline\",\"underline\":false,\"overline\":false,\"linethrough\":false,\"textBackgroundColor\":\"\",\"direction\":\"ltr\",\"minWidth\":20,\"splitByGrapheme\":true,\"width\":623.6138,\"height\":85.0527,\"editable\":true,\"backgroundColor\":\"\",\"padding\":18.75,\"customFixedHeight\":85.05265855640756,\"customId\":\"lCF0EWc58lhdcBtlRo_dD\",\"customType\":\"block_text\",\"type\":\"Textbox\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":41.3191,\"top\":38.2188,\"fill\":\"#000000fe\",\"stroke\":\"#3EC254fe\",\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"clipPath\":{\"rx\":0,\"ry\":0,\"width\":661.1138,\"height\":122.5527,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-330.5569,\"top\":-61.2763,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"inverted\":false,\"absolutePositioned\":false}},{\"fontSize\":36,\"fontWeight\":\"normal\",\"fontFamily\":\"字语咏楷体\",\"fontStyle\":\"normal\",\"lineHeight\":1.2,\"text\":\"赚钱是有模式的，你不必从头探索\",\"charSpacing\":0,\"textAlign\":\"center\",\"styles\":[],\"pathStartOffset\":0,\"pathSide\":\"left\",\"pathAlign\":\"baseline\",\"underline\":false,\"overline\":false,\"linethrough\":false,\"textBackgroundColor\":\"\",\"direction\":\"ltr\",\"minWidth\":20,\"splitByGrapheme\":true,\"width\":683.1382,\"height\":73.0569,\"editable\":true,\"backgroundColor\":\"\",\"padding\":9,\"customFixedHeight\":73.05690303838443,\"customId\":\"xVi458Cs1J8XVIfFTtSoU\",\"customType\":\"block_text\",\"type\":\"Textbox\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":25.065,\"top\":170.373,\"fill\":\"#000000ff\",\"stroke\":\"#FF441Efe\",\"strokeWidth\":0,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"clipPath\":{\"rx\":0,\"ry\":0,\"width\":701.1382,\"height\":91.0569,\"backgroundColor\":\"\",\"padding\":0,\"type\":\"Rect\",\"version\":\"6.0.0-rc2\",\"originX\":\"left\",\"originY\":\"top\",\"left\":-350.5691,\"top\":-45.5285,\"fill\":\"rgb(0,0,0)\",\"stroke\":null,\"strokeWidth\":1,\"strokeDashArray\":null,\"strokeLineCap\":\"butt\",\"strokeDashOffset\":0,\"strokeLineJoin\":\"miter\",\"strokeUniform\":false,\"strokeMiterLimit\":4,\"scaleX\":1,\"scaleY\":1,\"angle\":0,\"flipX\":false,\"flipY\":false,\"opacity\":1,\"shadow\":null,\"visible\":true,\"fillRule\":\"nonzero\",\"paintFirst\":\"fill\",\"globalCompositeOperation\":\"source-over\",\"skewX\":0,\"skewY\":0,\"inverted\":false,\"absolutePositioned\":false}}],\"background\":\"#ffffffff\"}","inputParameters":[{"name":"book_name","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"112660","name":"output"},"rawMeta":{"type":1}}},"id":"2QhQzwWu3J75BZ8V3vnUm"},{"name":"book_theme","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"100001","name":"book_theme"},"rawMeta":{"type":1}}},"id":"u__md7saRPCfcHSnfJrZG"},{"name":"book_image","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"110290","name":"book_image"},"rawMeta":{"type":1}}},"id":"-BqqyjEfmrDDVQcBa9ONb"}],"settingOnError":{"processType":1,"timeoutMs":60000,"retryTimes":0}},"nodeMeta":{"description":"自定义画板排版，支持引用添加文本和图片","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon_DrawingBoard_v2.jpg","mainColor":"#FF4DC3","subTitle":"画板","title":"画板"},"outputs":[{"type":"string","assistType":2,"name":"data"},{"type":"string","name":"msg"}]},"_temp":{"bounds":{"x":1380,"y":12,"width":360,"height":112.1},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon_DrawingBoard_v2.jpg","description":"自定义画板排版，支持引用添加文本和图片","title":"画板","mainColor":"#FF4DC3"}}},{"id":"112660","type":"15","meta":{"position":{"x":1100,"y":12}},"data":{"nodeMeta":{"title":"文本处理","icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","description":"用于处理多个字符串类型变量的格式","mainColor":"#3071F2","subTitle":"文本处理"},"inputs":{"method":"concat","inputParameters":[{"name":"String1","input":{"type":"string","value":{"type":"ref","content":{"source":"block-output","blockID":"110290","name":"book_name"},"rawMeta":{"type":1}}}}],"concatParams":[{"name":"concatResult","input":{"type":"string","value":{"type":"literal","content":"《{{String1}}》","rawMeta":{"type":1}}}},{"name":"arrayItemConcatChar","input":{"type":"string","value":{"type":"literal","content":"，","rawMeta":{"type":1}}}},{"name":"allArrayItemConcatChars","input":{"type":"list","schema":{"type":"object","schema":[{"type":"string","name":"label","required":true},{"type":"string","name":"value","required":true},{"type":"boolean","name":"isDefault","required":true}]},"value":{"type":"literal","content":[{"label":"换行","value":"\n","isDefault":true},{"label":"制表符","value":"\t","isDefault":true},{"label":"句号","value":"。","isDefault":true},{"label":"逗号","value":"，","isDefault":true},{"label":"分号","value":"；","isDefault":true},{"label":"空格","value":" ","isDefault":true}]}}}]},"outputs":[{"type":"string","name":"output","required":true}]},"_temp":{"bounds":{"x":920,"y":12,"width":360,"height":112.1},"externalData":{"icon":"https://lf3-static.bytednsdoc.com/obj/eden-cn/dvsmryvd_avi_dvsm/ljhwZthlaukjlkulzlp/icon/icon-StrConcat-v2.jpg","description":"用于处理多个字符串类型变量的格式","title":"文本处理","mainColor":"#3071F2"}}}],"edges":[{"sourceNodeID":"110290","targetNodeID":"112660"},{"sourceNodeID":"112660","targetNodeID":"146229"}]},"bounds":{"x":460,"y":0,"width":1280,"height":136.1}}
```
