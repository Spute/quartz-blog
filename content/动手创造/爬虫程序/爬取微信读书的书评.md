---
title: 爬取微信读书的书评
---

微信读书有着庞大的用户，里面也有很多书评，是高质量的信息来源，非常适合做 AI 的语料。

# 准备工作

## 找到网页

在浏览器中登录微信读书（不登录无法获取书评）

找到对应的书评页面（进入书籍，在第一页找到评论入口）

![[QsR5bnSqhoItAZxuA9hcyP0Cnje.png]]

点击进入，如下地址：

[https://weread.qq.com/web/bookReview/list?bookId=f7c32e20813ab94eeg0183de](https://weread.qq.com/web/bookReview/list?bookId=f7c32e20813ab94eeg0183de)

![[Faq0bEZrvo1CX8xPeyncreFNnXg.png]]

## 保存网页文件

1. 下拉滚动，加载所有评论
2. 右键点击“另存为”

![[KTaPbAwt3o3j55xQQ4DcSSvAnOe.png]]

1. 保存类型选择“网页、全部”。

> [!TIP]
> 因为网页的评论内容是<strong>动态加载</strong>的，选择完整保存网页，才能完整保存下拉加载的内容

![[GURXbDxlFoI5O4xEAPlcmrCznog.png]]

# 运行程序

运行程序快速解析 html 中的评论内容。如下是相关的 python 代码

## 示例代码

```python
from lxml import html

# 假设 html_content 是你的 HTML 字符串
with open('demo.html', 'r', encoding='utf-8') as f:
    html_content = f.read()

# 解析 HTML
tree = html.fromstring(html_content)

# 使用 XPath 获取内容
result = tree.xpath('/html/body/div[1]/div[2]/div/div[3]/ul//li//p/text()')

# 输出结果
if result:
    print(len(result))
    print(result[-1])
    # 将结果保存到文本文件
    with open('result.txt', 'w', encoding='utf-8') as output_file:
        for line in result:
            line = line.replace(" ", "").replace("\n\n", "\n")
            output_file.write(line + '\n\n')
else:
    print("未找到相关内容")
```

## 优化计划

准备后面写个浏览器插件，自动获取 html 中评论内容。这样对无编程基础的人更友好。
